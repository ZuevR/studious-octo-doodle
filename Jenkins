pipeline {
    agent any

    stages {
        stage('Prepare ENV') {
            steps {
                sh '''#!/bin/bash
                if [ -z ${tagToCreate} ]; then
                echo "tagToCreate field is missing, please check"
                exit 1
                fi

                #Construct JGIT_TAG variable to update git tag

                case ${KANE_BRANCH} in
                	dev)
                	environment {
                	    APP_ENV_NAME = development
                	}
                    ;;
                	qa)
                	environment {
                	    APP_ENV_NAME = qa
                	}
                    ;;
                   	stage)
                	environment {
                	    APP_ENV_NAME = uat
                	}
                    ;;
                	*)
                    echo "No Environment Found"
                    exit 1
                    ;;
                esac

                environment {
                    GIT_BRANCH=${KANE_BRANCH}
                    BUILD_TYPE=${BUILD_TYPE}
                }

                '''
            }
        }

        stage('Venue Backend Tag') {

        }
    }
}